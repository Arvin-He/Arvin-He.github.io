<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="SVN," />





  <link rel="alternate" href="/atom.xml" title="Simple & Freedom" type="application/atom+xml" />






<meta name="description" content="简介版本管理基本上是多人协作开发中必不可少的工具，常用的版本管理工具有：svn和git。虽然都有可视化的工具帮助我们使用这些工具，然而当你用上命令行之后，我想你会选择抛弃这些可视化工具。下面是我整理的一些常用的svn命令。 SVN命令格式svn命令格式: svn &amp;lt;subcommand&amp;gt; [options] [args]subcommand 是子命令options 是选项,可选args">
<meta name="keywords" content="SVN">
<meta property="og:type" content="article">
<meta property="og:title" content="SVN命令使用">
<meta property="og:url" content="http://arvin-he.github.io/2017/06/29/svncmd-2017-06-29/index.html">
<meta property="og:site_name" content="Simple &amp; Freedom">
<meta property="og:description" content="简介版本管理基本上是多人协作开发中必不可少的工具，常用的版本管理工具有：svn和git。虽然都有可视化的工具帮助我们使用这些工具，然而当你用上命令行之后，我想你会选择抛弃这些可视化工具。下面是我整理的一些常用的svn命令。 SVN命令格式svn命令格式: svn &amp;lt;subcommand&amp;gt; [options] [args]subcommand 是子命令options 是选项,可选args">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-09-08T03:51:40.183Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SVN命令使用">
<meta name="twitter:description" content="简介版本管理基本上是多人协作开发中必不可少的工具，常用的版本管理工具有：svn和git。虽然都有可视化的工具帮助我们使用这些工具，然而当你用上命令行之后，我想你会选择抛弃这些可视化工具。下面是我整理的一些常用的svn命令。 SVN命令格式svn命令格式: svn &amp;lt;subcommand&amp;gt; [options] [args]subcommand 是子命令options 是选项,可选args">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://arvin-he.github.io/2017/06/29/svncmd-2017-06-29/"/>





  <title>SVN命令使用 | Simple & Freedom</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Simple & Freedom</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Learn and live.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://arvin-he.github.io/2017/06/29/svncmd-2017-06-29/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Arvin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Simple & Freedom">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">SVN命令使用</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-29T09:12:09+08:00">
                2017-06-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/工具/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>版本管理基本上是多人协作开发中必不可少的工具，常用的版本管理工具有：svn和git。虽然都有可视化的工具帮助我们使用这些工具，然而当你用上命令行之后，我想你会选择抛弃这些可视化工具。下面是我整理的一些常用的svn命令。</p>
<h3 id="SVN命令格式"><a href="#SVN命令格式" class="headerlink" title="SVN命令格式"></a>SVN命令格式</h3><p>svn命令格式: <code>svn &lt;subcommand&gt; [options] [args]</code><br>subcommand 是子命令<br>options 是选项,可选<br>args 是参数,可选</p>
<h3 id="SVN常用命令"><a href="#SVN常用命令" class="headerlink" title="SVN常用命令"></a>SVN常用命令</h3><p><strong>说明:</strong> 绝大部分svn命令都是在svn的工作目录下执行的, 只有少数几个例外.</p>
<h4 id="1-帮助和日志查看"><a href="#1-帮助和日志查看" class="headerlink" title="1. 帮助和日志查看"></a>1. 帮助和日志查看</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">svn help/h                      --查看帮助信息</div><div class="line">svn help &lt;subcommand&gt;           --查看子命令的帮助信息</div><div class="line">svn --version                   -- 查看程序版本信息和RA模块</div><div class="line">svn --version --quiet           --仅查看snv的版本号</div><div class="line">svn log                         --查看所有日志</div><div class="line">svn log -l 10                   --查看最新10条日志</div><div class="line">svn info --show-item revision   --查看工程的版本号</div></pre></td></tr></table></figure>
<h4 id="2-检出-查看-导入"><a href="#2-检出-查看-导入" class="headerlink" title="2. 检出/查看/导入"></a>2. 检出/查看/导入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"># 检出代码</div><div class="line">svn checkout/co [directory] project(本地目录名，可选)</div><div class="line"></div><div class="line"># 检出版本3</div><div class="line">svn checkout/co –revision/r 3 [directory] project(本地目录名，可选)</div><div class="line"></div><div class="line"># 查看检出版本信息(注意:要进入到svn的工作目录中去)</div><div class="line">svn info</div><div class="line"></div><div class="line"># 导入(import)项目,项目尚未创建，将本地的目录放到SVN版本仓库中</div><div class="line">svn import project(本地目录名) [directory] </div><div class="line"></div><div class="line"># 查看svn工作目录下的文件和目录</div><div class="line">svn list/ls</div><div class="line"></div><div class="line"># 查看svn最新修改的最新版本号</div><div class="line">svn info yourdir --show-item last-changed-revision</div></pre></td></tr></table></figure>
<h4 id="3-更新-增加-修改-删除-重命名-拷贝-创建目录"><a href="#3-更新-增加-修改-删除-重命名-拷贝-创建目录" class="headerlink" title="3. 更新/增加/修改/删除/重命名/拷贝/创建目录"></a>3. 更新/增加/修改/删除/重命名/拷贝/创建目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"># 更新仓库内容到本地</div><div class="line">svn update/up</div><div class="line"></div><div class="line"># 更新到版本3</div><div class="line">svn update/up –revision/r 3</div><div class="line"></div><div class="line"># 增加一些新的文件，纳入项目的版本控制</div><div class="line">svn add a.py b.py ...</div><div class="line"></div><div class="line"># 删除废弃的不用的文件</div><div class="line">svn delete/del/remove/rm a.py</div><div class="line"></div><div class="line"># 重命名文件</div><div class="line">svn move/mv a.py aa.py</div><div class="line"></div><div class="line"># 新增目录</div><div class="line">svn mkdir mydir</div><div class="line"></div><div class="line"># 拷贝</div><div class="line">svn copy/cp srcdir/a.py dstdir/a.py</div></pre></td></tr></table></figure>
<h4 id="4-检查-查看差异"><a href="#4-检查-查看差异" class="headerlink" title="4. 检查/查看差异"></a>4. 检查/查看差异</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"># 检查修改状态</div><div class="line">svn status/stat/st</div><div class="line"></div><div class="line"># 对比一个目录下的差异</div><div class="line">svn diff/di folder(本地目录名，可选，默认当前目录)</div><div class="line"></div><div class="line"># 对比具体文本差异</div><div class="line">svn diff/di –revision/r 3 index.html</div><div class="line"></div><div class="line"># 查看index.html版本3和版本4的差别</div><div class="line">svn diff/di –revision/r 3:4 index.html</div></pre></td></tr></table></figure>
<h4 id="5-取消修改"><a href="#5-取消修改" class="headerlink" title="5. 取消修改"></a>5. 取消修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 回滚整个目录的修改</div><div class="line">svn revert . -R/--recursive </div><div class="line"></div><div class="line"># 撤销某个文件的修改</div><div class="line">svn revert a.py</div></pre></td></tr></table></figure>
<h4 id="6-分支操作"><a href="#6-分支操作" class="headerlink" title="6. 分支操作"></a>6. 分支操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># 创建分支</div><div class="line">svn copy/cp svn://xxx.com/repo/trunk svn://xxx.com/repo/branches/test -m &apos;make branch test&apos;</div><div class="line"></div><div class="line"># 将工作目录转到分支</div><div class="line">svn switch/sw svn://xxx.com/repo/branches/test</div><div class="line"></div><div class="line"># 将工作目录转到主干</div><div class="line">svn switch/sw svn://xxx.com/repo/trunk</div></pre></td></tr></table></figure>
<h4 id="7-合并一个分支到主干"><a href="#7-合并一个分支到主干" class="headerlink" title="7. 合并一个分支到主干"></a>7. 合并一个分支到主干</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"># 查询出自创建分支以后分支上的所有修改，最下面的那个版本号就是我们要找的版本号</div><div class="line">cd branches/test(分支目录) </div><div class="line">svn log –stop-on-copy </div><div class="line"></div><div class="line"># 查询出自创建分支以后分支上的所有修改，最下面的那个版本号就是我们要找的版本号</div><div class="line">cd trunk(主干目录) </div><div class="line">svn -q –stop-on-copy svn://xxx.com/repo/branches/test(分支url) </div><div class="line"></div><div class="line"># 合并到主干</div><div class="line">cd trunk（主干目录） </div><div class="line">svn merge -r 11340(分支版本):HEAD svn://xxx.com/repo/branches/test(分支url)</div></pre></td></tr></table></figure>
<h4 id="8-两个分支合并"><a href="#8-两个分支合并" class="headerlink" title="8. 两个分支合并"></a>8. 两个分支合并</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 假设99是从旧主干引出，100打完tag，表示是新主干。合并最新代码的意思是：将新主干与旧主干比对，并添加到99中。这样99既有自己的新增的代码，也同时有最新线上的代码。</div><div class="line">cd 99_Branch </div><div class="line">svn merge svn://xxx.com/repo/tags/project_Old_BL svn://xxx.com/repo/tags/project_New_BL svn ci -m &apos;merge 100 trunk&apos;</div><div class="line"></div><div class="line"># 但是后来，其他人又向100提了代码，所以还需要将100分支（即打了tag后的100，打了tag前的100已是主干）合并至99中。合并办法：找出100分支，比对与新主干之间的差别，并添加到99中。这样99就有最新的全部代码了。</div><div class="line">cd 99_Branch </div><div class="line">svn merge svn://xxx.com/repo/tags/project_New_BL svn:/xxx.com/repo/branches/100_Branch svn ci -m &apos;merge 100 branch&apos; </div><div class="line"></div><div class="line"># 合并主干到分支</div><div class="line">svn merge -r LastRevisionMergedFromTrunkToBranch:HEAD svn:/xxx.com/repo/branches/99_Branch</div></pre></td></tr></table></figure>
<h4 id="9-发布"><a href="#9-发布" class="headerlink" title="9. 发布"></a>9. 发布</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 给当前主干打个标签，并且这个标签不再改动了，但是实际上标签和分支是一个意思，你可以在标签上继续做改动，但这不推荐。</div><div class="line">svn copy/cp svn://xxx.com/repo/trunk svn://xxx.com/repo/tags/RB-1.0</div></pre></td></tr></table></figure>
<h4 id="10-提交-导出代码"><a href="#10-提交-导出代码" class="headerlink" title="10. 提交/导出代码"></a>10. 提交/导出代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 提交代码</div><div class="line">svn commit/ci -m &apos;message&apos; </div><div class="line"></div><div class="line"># 导出代码, 不包含svn版本信息</div><div class="line">svn export svn://xxx.com/repo/branches/test folder(本地目录)</div></pre></td></tr></table></figure>
<h4 id="11-解决冲突"><a href="#11-解决冲突" class="headerlink" title="11. 解决冲突"></a>11. 解决冲突</h4><p>当发生冲突的时候，会提示如下信息：</p>
<blockquote>
<p>Conflict discovered in ‘index.html’.<br>Select: (p) postpone, (df) diff-full, (e) edit,<br>(mc) mine-conflict, (tc) theirs-conflict,<br>(s) show all options:<br>svn detects that theres a conflict here and require you to take some kind of action.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">如果你输入s选项，则会列出所有svn解决冲突的选项，如下所示：</div><div class="line">(e) edit - change merged file in an editor #直接进入编辑</div><div class="line">(df) diff-full -show all changes made to merged file #显示更改至目标文件的所有变化</div><div class="line">(r) resolved -accept merged version of file</div><div class="line">(dc) display-conflict -show all conflicts(ignoring merged version) #显示所有冲突</div><div class="line">(mc) mine-conflict -accept my version for all conflicts (same) #冲突以本地为准</div><div class="line">(tc) theirs-conflict -accept their version for all conflicts (same) #冲突以服务器为准</div><div class="line">(mf) mine-full -accept my version of entire file (even non-conflicts) #完全以本地为准</div><div class="line">(tf) theirs-full -accept their version of entire file (same) #完全以服务器为准</div><div class="line">(p) postpone -mark the conflict to be resolved later #标记冲突，稍后解决</div><div class="line">(l) launch -launch external tool to resolve conflict</div><div class="line">(s) show all -show this list</div><div class="line"></div><div class="line">一般我们会选择p稍后解决冲突，这样会生成三个文件：.mine, .rOLDREV, .rNEWREV。</div><div class="line">比如：index.html index.html.mine index.html.r1 index.html.r2 </div><div class="line">解决冲突方法大致有一下几种：</div><div class="line"></div><div class="line">1).手工修改index.html文件，然后将当前index.html作为最后提交的版本</div><div class="line">svn resolve index.html –-accept working </div><div class="line">2).选择base版本，即index.html.rOLDREV作为最后提交的版本</div><div class="line">svn resolve index.html –-accept base </div><div class="line">3).使用index.html.rNEWREV作为最后提交的版本</div><div class="line">svn resolve index.html –-accept theirs-full </div><div class="line">4).使用index.html.mine作为最后提交的版本</div><div class="line">svn resolve index.html –-accept mine-full </div><div class="line"># 或者用下面这条命令也可以 </div><div class="line">svn resolve index.html –-accept theirs-conflict</div></pre></td></tr></table></figure>
<h4 id="12-查看最近svn几次的版本号"><a href="#12-查看最近svn几次的版本号" class="headerlink" title="12. 查看最近svn几次的版本号"></a>12. 查看最近svn几次的版本号</h4><p>通过查看svn日志,然后用正则表达式匹配出版本号<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 获取最近几次提交的版本号</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_commit_revisions</span><span class="params">(svn_path, commit_times=<span class="string">"5"</span>)</span>:</span></div><div class="line">    output = subprocess.check_output(</div><div class="line">        [<span class="string">"svn"</span>, <span class="string">"log"</span>, svn_path, <span class="string">"-v"</span>, <span class="string">"--limit"</span>, commit_times]).decode(<span class="string">"gbk"</span>).strip()</div><div class="line">    svn_logs = [item.strip() <span class="keyword">for</span> item <span class="keyword">in</span> output.splitlines() <span class="keyword">if</span> item]</div><div class="line">    <span class="comment"># 存放最近几次提交的版本号</span></div><div class="line">    revisions_info = []</div><div class="line">    <span class="comment"># 匹配版本号</span></div><div class="line">    pattern1 = re.compile(<span class="string">r'^r[0-9]* '</span>)</div><div class="line">    <span class="keyword">for</span> msg <span class="keyword">in</span> svn_logs:</div><div class="line">        match1 = pattern1.match(msg)</div><div class="line">        <span class="keyword">if</span> match1:</div><div class="line">            revision = match1.group().strip()</div><div class="line">            revisions_info.append(revision[<span class="number">1</span>:])</div><div class="line">    <span class="keyword">return</span> revisions_info</div><div class="line"></div><div class="line"><span class="comment"># 获取最新修改的版本号</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_base_revision</span><span class="params">(svn_path)</span>:</span></div><div class="line">    revision = subprocess.check_output(</div><div class="line">        [<span class="string">"svn"</span>, <span class="string">"info"</span>, svn_path, <span class="string">"--show-item"</span>, <span class="string">"last-changed-revision"</span>]).decode(<span class="string">"gbk"</span>).strip()</div><div class="line">    print(<span class="string">"revision = &#123;&#125;"</span>.format(revision))</div><div class="line">    <span class="keyword">return</span> revision</div></pre></td></tr></table></figure></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://www.phpxs.com/post/5059/" target="_blank" rel="external">常用的svn和git命令</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/SVN/" rel="tag"># SVN</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/27/softwarelist-2017-06-27/" rel="next" title="常用软件列表">
                <i class="fa fa-chevron-left"></i> 常用软件列表
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/07/05/ck-multi-program-2017-07-05/" rel="prev" title="cookbook之并发编程">
                cookbook之并发编程 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Arvin</p>
              <p class="site-description motion-element" itemprop="description">Learn and live.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">141</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SVN命令格式"><span class="nav-number">2.</span> <span class="nav-text">SVN命令格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SVN常用命令"><span class="nav-number">3.</span> <span class="nav-text">SVN常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-帮助和日志查看"><span class="nav-number">3.1.</span> <span class="nav-text">1. 帮助和日志查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-检出-查看-导入"><span class="nav-number">3.2.</span> <span class="nav-text">2. 检出/查看/导入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-更新-增加-修改-删除-重命名-拷贝-创建目录"><span class="nav-number">3.3.</span> <span class="nav-text">3. 更新/增加/修改/删除/重命名/拷贝/创建目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-检查-查看差异"><span class="nav-number">3.4.</span> <span class="nav-text">4. 检查/查看差异</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-取消修改"><span class="nav-number">3.5.</span> <span class="nav-text">5. 取消修改</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-分支操作"><span class="nav-number">3.6.</span> <span class="nav-text">6. 分支操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-合并一个分支到主干"><span class="nav-number">3.7.</span> <span class="nav-text">7. 合并一个分支到主干</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-两个分支合并"><span class="nav-number">3.8.</span> <span class="nav-text">8. 两个分支合并</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-发布"><span class="nav-number">3.9.</span> <span class="nav-text">9. 发布</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-提交-导出代码"><span class="nav-number">3.10.</span> <span class="nav-text">10. 提交/导出代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-解决冲突"><span class="nav-number">3.11.</span> <span class="nav-text">11. 解决冲突</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-查看最近svn几次的版本号"><span class="nav-number">3.12.</span> <span class="nav-text">12. 查看最近svn几次的版本号</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考"><span class="nav-number">4.</span> <span class="nav-text">参考</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Arvin</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
  

  

  

  

</body>
</html>
